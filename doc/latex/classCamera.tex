\hypertarget{classCamera}{
\section{Camera Class Reference}
\label{classCamera}\index{Camera@{Camera}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classCamera_abf9aaac18c8a268705dd7009017ce961}{
{\bfseries Camera} (PlayerCc::PlayerClient \&robot, PlayerCc::BlobfinderProxy \&blobProxy, PlayerCc::CameraProxy \&camProxy)}
\label{classCamera_abf9aaac18c8a268705dd7009017ce961}

\item 
IplImage $\ast$ \hyperlink{classCamera_a02d5576415e72e46c717f6b1221fa4a4}{captureImage} ()
\item 
IplImage $\ast$ \hyperlink{classCamera_a9d6533c84114b0724d28b940ed774362}{edgeDetection} (IplImage $\ast$in, double lowThresh, double highThresh, double aperture)
\item 
IplImage $\ast$ \hyperlink{classCamera_ac5c9f313998f788fa4924a1a341fd96a}{doCanny} (IplImage $\ast$in, double lowThresh, double highThresh, double aperture)
\item 
void \hyperlink{classCamera_ab2cdb9c79a3058c31fe3ccd04c8b4982}{drawBlobs} (IplImage $\ast$in)
\item 
void \hyperlink{classCamera_a291c3ab32f380f2e8e9258793daeff5d}{displayStream} (char $\ast$windowName)
\item 
void \hyperlink{classCamera_af4d89ca5c815928bdf8cf1cf8cb0f058}{displayBlobs} (char $\ast$windowName)
\item 
void \hyperlink{classCamera_a5ac21f1748d653d29a4173814386029c}{displayTetris} (char $\ast$windowName)
\item 
double \hyperlink{classCamera_a5d6b9a8b9772301c7fd6be163bea0187}{angle} (CvPoint $\ast$pt1, CvPoint $\ast$pt2, CvPoint $\ast$pt0)
\item 
CvSeq $\ast$ \hyperlink{classCamera_a21b8d96617b3fede0373a7af8f998bb6}{findTetris} (IplImage $\ast$img, CvMemStorage $\ast$storage)
\item 
void \hyperlink{classCamera_a7b2811cc03fcdafa686a76863f2847c1}{drawTetris} (IplImage $\ast$img, CvSeq $\ast$tetrisPieces)
\item 
void \hyperlink{classCamera_ae03f9b6de6de4ff54394006116901cf1}{loadCascade} (const char $\ast$cascadeName)
\item 
void \hyperlink{classCamera_a463b40c912469d22df3ca81bb85bbf60}{detectAndDrawHaar} (IplImage $\ast$img, double scale=1.3)
\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\hypertarget{classCamera_a5d6b9a8b9772301c7fd6be163bea0187}{
\index{Camera@{Camera}!angle@{angle}}
\index{angle@{angle}!Camera@{Camera}}
\subsubsection[{angle}]{\setlength{\rightskip}{0pt plus 5cm}double Camera::angle (CvPoint $\ast$ {\em pt1}, \/  CvPoint $\ast$ {\em pt2}, \/  CvPoint $\ast$ {\em pt0})}}
\label{classCamera_a5d6b9a8b9772301c7fd6be163bea0187}
This helper function finds the cosine of an angle between two vectors from pt0 to pt1 and then pt0 to pt2. Used by \hyperlink{classCamera_a21b8d96617b3fede0373a7af8f998bb6}{findTetris()} to identify right angles. From OpenCV examples. \hypertarget{classCamera_a02d5576415e72e46c717f6b1221fa4a4}{
\index{Camera@{Camera}!captureImage@{captureImage}}
\index{captureImage@{captureImage}!Camera@{Camera}}
\subsubsection[{captureImage}]{\setlength{\rightskip}{0pt plus 5cm}IplImage $\ast$ Camera::captureImage ()}}
\label{classCamera_a02d5576415e72e46c717f6b1221fa4a4}
Captures image from the Player \hyperlink{classCamera}{Camera} proxy and converts it to standard BGR IplImage format \hypertarget{classCamera_a463b40c912469d22df3ca81bb85bbf60}{
\index{Camera@{Camera}!detectAndDrawHaar@{detectAndDrawHaar}}
\index{detectAndDrawHaar@{detectAndDrawHaar}!Camera@{Camera}}
\subsubsection[{detectAndDrawHaar}]{\setlength{\rightskip}{0pt plus 5cm}void Camera::detectAndDrawHaar (IplImage $\ast$ {\em img}, \/  double {\em scale} = {\ttfamily 1.3})}}
\label{classCamera_a463b40c912469d22df3ca81bb85bbf60}
Detects and draws The Objects that have been defined in the .xml cascade file. \hypertarget{classCamera_af4d89ca5c815928bdf8cf1cf8cb0f058}{
\index{Camera@{Camera}!displayBlobs@{displayBlobs}}
\index{displayBlobs@{displayBlobs}!Camera@{Camera}}
\subsubsection[{displayBlobs}]{\setlength{\rightskip}{0pt plus 5cm}void Camera::displayBlobs (char $\ast$ {\em windowName})}}
\label{classCamera_af4d89ca5c815928bdf8cf1cf8cb0f058}
Displays images that have had blobdetection performed on them. \hypertarget{classCamera_a291c3ab32f380f2e8e9258793daeff5d}{
\index{Camera@{Camera}!displayStream@{displayStream}}
\index{displayStream@{displayStream}!Camera@{Camera}}
\subsubsection[{displayStream}]{\setlength{\rightskip}{0pt plus 5cm}void Camera::displayStream (char $\ast$ {\em windowName})}}
\label{classCamera_a291c3ab32f380f2e8e9258793daeff5d}
Displays images from the Player camera proxy. \hypertarget{classCamera_a5ac21f1748d653d29a4173814386029c}{
\index{Camera@{Camera}!displayTetris@{displayTetris}}
\index{displayTetris@{displayTetris}!Camera@{Camera}}
\subsubsection[{displayTetris}]{\setlength{\rightskip}{0pt plus 5cm}void Camera::displayTetris (char $\ast$ {\em windowName})}}
\label{classCamera_a5ac21f1748d653d29a4173814386029c}
Displays images that have had tetrisdetection performed on them. \hypertarget{classCamera_ac5c9f313998f788fa4924a1a341fd96a}{
\index{Camera@{Camera}!doCanny@{doCanny}}
\index{doCanny@{doCanny}!Camera@{Camera}}
\subsubsection[{doCanny}]{\setlength{\rightskip}{0pt plus 5cm}IplImage $\ast$ Camera::doCanny (IplImage $\ast$ {\em in}, \/  double {\em lowThresh}, \/  double {\em highThresh}, \/  double {\em aperture})}}
\label{classCamera_ac5c9f313998f788fa4924a1a341fd96a}
Performs canny detection on input image and returns canny detected image. Perform canny detection on new image so that it is non-\/destructive to original image. \hypertarget{classCamera_ab2cdb9c79a3058c31fe3ccd04c8b4982}{
\index{Camera@{Camera}!drawBlobs@{drawBlobs}}
\index{drawBlobs@{drawBlobs}!Camera@{Camera}}
\subsubsection[{drawBlobs}]{\setlength{\rightskip}{0pt plus 5cm}void Camera::drawBlobs (IplImage $\ast$ {\em image})}}
\label{classCamera_ab2cdb9c79a3058c31fe3ccd04c8b4982}
Takes an image and performs blobdetection using the CMVision Player driver. Requires information provided by the camera (duh) and blobfinder proxies. Does not display blobs, merely draws rectangles around blobs identified by the blobfinder proxy. If you want to see them try using the \hyperlink{classCamera_af4d89ca5c815928bdf8cf1cf8cb0f058}{displayBlobs()} function. \hypertarget{classCamera_a7b2811cc03fcdafa686a76863f2847c1}{
\index{Camera@{Camera}!drawTetris@{drawTetris}}
\index{drawTetris@{drawTetris}!Camera@{Camera}}
\subsubsection[{drawTetris}]{\setlength{\rightskip}{0pt plus 5cm}void Camera::drawTetris (IplImage $\ast$ {\em img}, \/  CvSeq $\ast$ {\em tetrisPieces})}}
\label{classCamera_a7b2811cc03fcdafa686a76863f2847c1}
Draws the identified Tetris pieces on the given image. \hypertarget{classCamera_a9d6533c84114b0724d28b940ed774362}{
\index{Camera@{Camera}!edgeDetection@{edgeDetection}}
\index{edgeDetection@{edgeDetection}!Camera@{Camera}}
\subsubsection[{edgeDetection}]{\setlength{\rightskip}{0pt plus 5cm}IplImage $\ast$ Camera::edgeDetection (IplImage $\ast$ {\em in}, \/  double {\em lowThresh}, \/  double {\em highThresh}, \/  double {\em aperture})}}
\label{classCamera_a9d6533c84114b0724d28b940ed774362}
Converts IplImage$\ast$ in to 1-\/channel to use \hyperlink{classCamera_ac5c9f313998f788fa4924a1a341fd96a}{doCanny()}. Just a convenience function to perform canny detection on a 3-\/channel IplImage$\ast$. \hypertarget{classCamera_a21b8d96617b3fede0373a7af8f998bb6}{
\index{Camera@{Camera}!findTetris@{findTetris}}
\index{findTetris@{findTetris}!Camera@{Camera}}
\subsubsection[{findTetris}]{\setlength{\rightskip}{0pt plus 5cm}CvSeq $\ast$ Camera::findTetris (IplImage $\ast$ {\em img}, \/  CvMemStorage $\ast$ {\em storage})}}
\label{classCamera_a21b8d96617b3fede0373a7af8f998bb6}
Returns a CvSeq (An OpenCV sequence) of Tetris pieces detected in an image. Based on the OpenCV example of identifying a square. Modified to detect L-\/shaped Tetris pieces. Effectiveness dependent upon thresholds of edge dectection and camera being positioned orthogonal to the Tetris piece. 

Copy of image so that the detection is non-\/destructive

Gray scale needed

Smaller version to do scaling

6 points per tetris piece (the vertices)

find pieces in every color plane of the image

extract the c-\/th color plane

try several threshold levels

hack: use Canny instead of zero threshold level. Canny helps to catch tetrisPieces with gradient shading \hypertarget{classCamera_ae03f9b6de6de4ff54394006116901cf1}{
\index{Camera@{Camera}!loadCascade@{loadCascade}}
\index{loadCascade@{loadCascade}!Camera@{Camera}}
\subsubsection[{loadCascade}]{\setlength{\rightskip}{0pt plus 5cm}void Camera::loadCascade (const char $\ast$ {\em cascadeName})}}
\label{classCamera_ae03f9b6de6de4ff54394006116901cf1}
Loads the .xml file that holds the cascade information determined after performing Haar training. 

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
camera.h\item 
camera.cpp\end{DoxyCompactItemize}
